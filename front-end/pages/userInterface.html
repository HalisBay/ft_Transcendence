<!-- userInterface.html -->
{% extends 'pages/base.html' %}

{% block title %}Kullanıcı Arayüzü{% endblock %}

{% block content %}
<div class="container">
    <meta name="csrf-token" content="{{ csrf_token }}">
    <div class="user-card">
        <div class="user-image">
            <img src="{{ user.avatar.url }}" alt="Avatar">
        </div>
        <div class="user-info">
            <p><strong>Adı:</strong> {{ username }}<span id="username"></span></p>
            <p><strong>E-posta:</strong> {{ email }}<span id="email"></span></p>
        </div>
    </div>

<div class="buttons">
    <button class="btn-white" onclick="navigateTo('game/home')">Oyun</button>
    <button class="btn-white" onclick="navigateTo('user/update')">Düzenle</button>
    <button class="btn-white" onclick="navigateTo('logout')">Çıkış yap</button>
    <button class="btn-white" onclick="activate2FA()">Enable/Disable 2FA</button>
    <button class="btn-white" onclick="navigateTo('gdpr')">Veri Gizliliği Politikası</button>
    <button class="btn-white" onclick="navigateTo('anonymize_account')">Anonimleştir</button>
    <button class="btn-white" onclick="navigateTo('user/delete')">Hesabı sil</button>

        {% if messages %}
        <div class="messages">
            {% for message in messages %}
                <p class="message {{ message.tags }}">{{ message }}</p>
            {% endfor %}
        </div>
        {% endif %}
    </div>

    <div class="chat-btn" onclick="toggleChatBoxes('chat-box')">CHAT</div>
    <div class="chat-box">
        <h1 class="h-1">SOHBET</h1>
        <div id="messages"></div>
        <form class="d-flex " onsubmit="return sendMessage(event)">
            <input type="text" id="messageInput" class="form-control" placeholder="Mesaj yazın..." aria-label="Mesaj yazın">
            <button type="submit" class="btn btn-primary" id="sendButton">Gönder</button>
        </form>
    </div>
    <div id="content"></div>
    <div class="friends-btn" onclick="toggleChatBoxes('friends-box')">FRIENDS</div>
    <div class="friends-box">
        <h1>ARKADAŞLAR</h1>
        <form class="a-flex">
            <input type="text" id="addFriends" class="form-control" placeholder="Nick giriniz">
            <button type="submit" class="btn btn-primary" id="sendButton">Gönder</button>
        </form> 
    </div>
</div>
{% endblock %}
